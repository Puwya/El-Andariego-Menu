import{u as y}from"./vue.fed13688-BU6wVgzD.js";import{c as l,d as o,F as p,e as f,g as a,h as s,a as w,r as h,o as k,f as b,w as g,t as n,j as c,R as m,B,n as S}from"./index-D50upSDr.js";import{u as $,a as D,_ as E}from"./SmartImg-NrHSM6El.js";import{f as F}from"./utility-D-uUhmTE.js";import{S as u}from"./Skeleton-C6YsDajK.js";const A={class:"container mt-6 grid grid-cols-1 items-center gap-10 px-3 lg:mt-10 lg:grid-cols-2 lg:gap-8 lg:px-12"},L={__name:"BlogSkeleton",setup(x){return(_,r)=>(l(),o("div",A,[(l(),o(p,null,f(4,i=>a("div",{key:i},[s(u,{class:"mb-3 h-8 w-36"}),s(u,{class:"w-4/4 mb-3 h-72 sm:h-80 md:h-96 lg:h-64 xl:h-80 2xl:h-96"}),s(u,{class:"h-16 w-72"})])),64))]))}},N={key:1,class:"container mt-6 grid grid-cols-1 items-center gap-10 px-3 lg:mt-10 lg:grid-cols-2 lg:gap-8 lg:px-12"},V={class:"text-xl font-semibold lg:text-2xl"},C={class:"mt-3 flex gap-2"},M={class:"text-primary underline hover:text-primary-600"},I={__name:"Blog",setup(x){y({title:"Blog | El Andariego",meta:[{name:"description",content:"Anything new in the life of El Andariego"}]});const{t:_}=w({useScope:"global"}),r=h([]),i=h(!0);return k(async()=>{try{const d=await $({url:"/api/posts"});r.value=d.data,r.value.sort((t,e)=>new Date(e.date)-new Date(t.date)),r.value.forEach(t=>{t.date=F(t.date)})}catch{D("Failed to fetch posts.",{type:"error"})}finally{i.value=!1}}),(d,t)=>i.value?(l(),b(L,{key:0})):(l(),o("div",N,[(l(!0),o(p,null,f(r.value,(e,v)=>(l(),o("div",{key:e._id},[s(c(m),{to:`/blog/${e._id}`,class:"inline-block cursor-pointer"},{default:g(()=>[a("h1",V,n(e.title),1)]),_:2},1032,["to"]),s(c(m),{to:`/blog/${e._id}`,class:"cursor-pointer hover:opacity-75"},{default:g(()=>[s(E,{src:e.images[0].url,alt:e.images[0].title,width:e.images[0].width,height:e.images[0].height},null,8,["src","alt","width","height"])]),_:2},1032,["to"]),a("div",{class:S(["flex flex-col items-start",{"order-lg-1":v%2===0}])},[a("div",C,[a("p",null,n(e.type),1),t[0]||(t[0]=B(" Â· ")),a("p",null,n(e.date),1)]),s(c(m),{to:`/blog/${e._id}`,class:"cursor-pointer"},{default:g(()=>[a("p",M,n(c(_)("blog.read_more")),1)]),_:2},1032,["to"])],2)]))),128))]))}};export{I as default};
